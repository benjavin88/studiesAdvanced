<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="blk" style="width:100px;height:100px;background-color:red"></div>
  <hr>
  <button onclick="trans('a')">正方形</button>
  <button onclick="trans('b')">圓形</button>
  <button onclick="trans('c')">三角形</button>
  <input type="text" value="#color" onchange="clr(this)">

  <script>
    let blk=document.getElementById("blk");
    let nowclr="red"; //全域變數，整頁代碼都能讀寫它
    function trans(todo) {
      switch (todo) {
        case 'a':
          blk.style = `width:100px;height:100px;background-color:${nowclr}`;
          break;
        case 'b':
          blk.style = `width:100px;height:100px;background-color:${nowclr};border-radius:50%`;
          break;
        case 'c':
          blk.style = `width:0;height:0;border-left:50px solid transparent;border-right:50px solid transparent;border-bottom: 100px solid ${nowclr};`;
          break;
      }
    }
    function clr(chgclr){
      // console.log(chgclr.value);
      // if(blk.style.backgroundColor!="") blk.style.backgroundColor=chgclr.value;  //for 正,圓
      if(blk.style.backgroundColor) blk.style.backgroundColor=chgclr.value;  //for 正,圓
      else blk.style.borderBottom=`100px solid ${chgclr.value}`; //for 三
      nowclr=chgclr.value; //回寫到新顏色違和，使得下一次onclick變形能帶新色
    }
  </script>
</body>

</html>